<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Module: utils.openpy &mdash; IPython 3.2.1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="IPython 3.2.1 documentation" href="../../index.html" />
    <link rel="up" title="The IPython API" href="../index.html" />
    <link rel="next" title="Module: utils.path" href="IPython.utils.path.html" />
    <link rel="prev" title="Module: utils.module_paths" href="IPython.utils.module_paths.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="https://ipython.org/"><img src="../../_static/logo.png" border="0" alt="IPython Documentation"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="IPython.utils.path.html" title="Module: utils.path"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="IPython.utils.module_paths.html" title="Module: utils.module_paths"
             accesskey="P">previous</a> |</li>
        <li><a href="https://ipython.org">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>
       <li><a href="../../index.html">documentation </a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">The IPython API</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Module: <code class="docutils literal"><span class="pre">utils.openpy</span></code></a><ul>
<li><a class="reference internal" href="#functions">8 Functions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="IPython.utils.module_paths.html"
                        title="previous chapter">Module: <code class="docutils literal"><span class="pre">utils.module_paths</span></code></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="IPython.utils.path.html"
                        title="next chapter">Module: <code class="docutils literal"><span class="pre">utils.path</span></code></a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/api/generated/IPython.utils.openpy.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <blockquote>
<div><div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This documentation is for an old version of IPython.
You can find docs for newer versions <a class="reference external" href="http://ipython.readthedocs.org/en/stable/">here</a>.</p>
</div>
</div></blockquote>
<div class="section" id="module-IPython.utils.openpy">
<span id="module-utils-openpy"></span><h1>Module: <code class="xref py py-mod docutils literal"><span class="pre">utils.openpy</span></code><a class="headerlink" href="#module-IPython.utils.openpy" title="Permalink to this headline">¶</a></h1>
<p>Tools to open .py files as Unicode, using the encoding specified within the file,
as per PEP 263.</p>
<p>Much of the code is taken from the tokenize module in Python 3.2.</p>
<div class="section" id="functions">
<h2>8 Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="IPython.utils.openpy.detect_encoding">
<code class="descclassname">IPython.utils.openpy.</code><code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>readline</em><span class="sig-paren">)</span><a class="headerlink" href="#IPython.utils.openpy.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>The detect_encoding() function is used to detect the encoding that should
be used to decode a Python source file.  It requires one argument, readline,
in the same way as the tokenize() generator.</p>
<p>It will call readline a maximum of twice, and return the encoding used
(as a string) and a list of any lines (left as bytes) it has read in.</p>
<p>It detects the encoding from the presence of a utf-8 bom or an encoding
cookie as specified in pep-0263.  If both a bom and a cookie are present,
but disagree, a SyntaxError will be raised.  If the encoding cookie is an
invalid charset, raise a SyntaxError.  Note that if a utf-8 bom is found,
&#8216;utf-8-sig&#8217; is returned.</p>
<p>If no encoding is specified, then the default of &#8216;utf-8&#8217; will be returned.</p>
</dd></dl>

<dl class="function">
<dt id="IPython.utils.openpy.open">
<code class="descclassname">IPython.utils.openpy.</code><code class="descname">open</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#IPython.utils.openpy.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a file in read only mode using the encoding detected by
detect_encoding().</p>
</dd></dl>

<dl class="function">
<dt id="IPython.utils.openpy.source_to_unicode">
<code class="descclassname">IPython.utils.openpy.</code><code class="descname">source_to_unicode</code><span class="sig-paren">(</span><em>txt</em>, <em>errors='replace'</em>, <em>skip_encoding_cookie=True</em><span class="sig-paren">)</span><a class="headerlink" href="#IPython.utils.openpy.source_to_unicode" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a bytes string with python source code to unicode.</p>
<p>Unicode strings are passed through unchanged. Byte strings are checked
for the python source file encoding cookie to determine encoding.
txt can be either a bytes buffer or a string containing the source
code.</p>
</dd></dl>

<dl class="function">
<dt id="IPython.utils.openpy.strip_encoding_cookie">
<code class="descclassname">IPython.utils.openpy.</code><code class="descname">strip_encoding_cookie</code><span class="sig-paren">(</span><em>filelike</em><span class="sig-paren">)</span><a class="headerlink" href="#IPython.utils.openpy.strip_encoding_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator to pull lines from a text-mode file, skipping the encoding
cookie if it is found in the first two lines.</p>
</dd></dl>

<dl class="function">
<dt id="IPython.utils.openpy.read_py_file">
<code class="descclassname">IPython.utils.openpy.</code><code class="descname">read_py_file</code><span class="sig-paren">(</span><em>filename</em>, <em>skip_encoding_cookie=True</em><span class="sig-paren">)</span><a class="headerlink" href="#IPython.utils.openpy.read_py_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a Python file, using the encoding declared inside the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : str</p>
<blockquote>
<div><p>The path to the file to read.</p>
</div></blockquote>
<p><strong>skip_encoding_cookie</strong> : bool</p>
<blockquote>
<div><p>If True (the default), and the encoding declaration is found in the first
two lines, that line will be excluded from the output - compiling a
unicode string with an encoding declaration is a SyntaxError in Python 2.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A unicode string containing the contents of the file.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="IPython.utils.openpy.read_py_url">
<code class="descclassname">IPython.utils.openpy.</code><code class="descname">read_py_url</code><span class="sig-paren">(</span><em>url</em>, <em>errors='replace'</em>, <em>skip_encoding_cookie=True</em><span class="sig-paren">)</span><a class="headerlink" href="#IPython.utils.openpy.read_py_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a Python file from a URL, using the encoding declared inside the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>url</strong> : str</p>
<blockquote>
<div><p>The URL from which to fetch the file.</p>
</div></blockquote>
<p><strong>errors</strong> : str</p>
<blockquote>
<div><p>How to handle decoding errors in the file. Options are the same as for
bytes.decode(), but here &#8216;replace&#8217; is the default.</p>
</div></blockquote>
<p><strong>skip_encoding_cookie</strong> : bool</p>
<blockquote>
<div><p>If True (the default), and the encoding declaration is found in the first
two lines, that line will be excluded from the output - compiling a
unicode string with an encoding declaration is a SyntaxError in Python 2.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A unicode string containing the contents of the file.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="IPython.utils.openpy.source_from_cache">
<code class="descclassname">IPython.utils.openpy.</code><code class="descname">source_from_cache</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#IPython.utils.openpy.source_from_cache" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>DEPRECATED</strong></p>
<p>Given the path to a .pyc. file, return the path to its .py file.</p>
<p>The .pyc file does not need to exist; this simply returns the path to
the .py file calculated to correspond to the .pyc file.  If path does
not conform to PEP 3147 format, ValueError will be raised. If
sys.implementation.cache_tag is None then NotImplementedError is raised.</p>
</dd></dl>

<dl class="function">
<dt id="IPython.utils.openpy.cache_from_source">
<code class="descclassname">IPython.utils.openpy.</code><code class="descname">cache_from_source</code><span class="sig-paren">(</span><em>path</em>, <em>debug_override=None</em><span class="sig-paren">)</span><a class="headerlink" href="#IPython.utils.openpy.cache_from_source" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>DEPRECATED</strong></p>
<p>Given the path to a .py file, return the path to its .pyc file.</p>
<p>The .py file does not need to exist; this simply returns the path to the
.pyc file calculated as if the .py file were imported.</p>
<p>If debug_override is not None, then it must be a boolean and is used in
place of sys.flags.optimize.</p>
<p>If sys.implementation.cache_tag is None then NotImplementedError is raised.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The IPython Development Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.3</a>
      
      |
      <a href="../../_sources/api/generated/IPython.utils.openpy.txt"
          rel="nofollow">Page source</a></li>
    </div>

    

    
  </body>
</html>
