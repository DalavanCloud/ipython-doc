<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3.x Series &mdash; IPython 3.2.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="IPython 3.2.1 documentation" href="../index.html" />
    <link rel="up" title="What’s new in IPython" href="index.html" />
    <link rel="next" title="Issues closed in the 3.x development cycle" href="github-stats-3.html" />
    <link rel="prev" title="Development version" href="development.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="https://ipython.org/"><img src="../_static/logo.png" border="0" alt="IPython Documentation"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="github-stats-3.html" title="Issues closed in the 3.x development cycle"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="development.html" title="Development version"
             accesskey="P">previous</a> |</li>
        <li><a href="https://ipython.org">home</a>|&nbsp;</li>
        <li><a href="../search.html">search</a>|&nbsp;</li>
       <li><a href="../index.html">documentation </a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">What&#8217;s new in IPython</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3.x Series</a><ul>
<li><a class="reference internal" href="#ipython-3-2-1">IPython 3.2.1</a></li>
<li><a class="reference internal" href="#ipython-3-2">IPython 3.2</a></li>
<li><a class="reference internal" href="#ipython-3-1">IPython 3.1</a></li>
<li><a class="reference internal" href="#release-3-0">Release 3.0</a><ul>
<li><a class="reference internal" href="#using-different-kernels">Using different kernels</a></li>
<li><a class="reference internal" href="#typing-unicode-identifiers">Typing unicode identifiers</a></li>
<li><a class="reference internal" href="#widget-migration-guide">Widget migration guide</a></li>
<li><a class="reference internal" href="#other-new-features">Other new features</a></li>
<li><a class="reference internal" href="#backwards-incompatible-changes">Backwards incompatible changes</a><ul>
<li><a class="reference internal" href="#content-security-policy">Content Security Policy</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="development.html"
                        title="previous chapter">Development version</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="github-stats-3.html"
                        title="next chapter">Issues closed in the 3.x development cycle</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/whatsnew/version3.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <blockquote>
<div><div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This documentation is for an old version of IPython.
You can find docs for newer versions <a class="reference external" href="http://ipython.readthedocs.org/en/stable/">here</a>.</p>
</div>
</div></blockquote>
<div class="section" id="x-series">
<h1>3.x Series<a class="headerlink" href="#x-series" title="Permalink to this headline">¶</a></h1>
<div class="section" id="ipython-3-2-1">
<h2>IPython 3.2.1<a class="headerlink" href="#ipython-3-2-1" title="Permalink to this headline">¶</a></h2>
<p>IPython 3.2.1 is a small bugfix release, primarily for cross-site security fixes in the notebook.
Users are <strong>strongly</strong> encouraged to upgrade immediately.
There are also a few small unicode and nbconvert-related fixes.</p>
<p>See <a class="reference internal" href="github-stats-3.html#issues-list-3"><span>Issues closed in the 3.x development cycle</span></a> for details.</p>
</div>
<div class="section" id="ipython-3-2">
<h2>IPython 3.2<a class="headerlink" href="#ipython-3-2" title="Permalink to this headline">¶</a></h2>
<p>IPython 3.2 contains important security fixes. Users are <strong>strongly</strong> encouraged to upgrade immediately.</p>
<p>Highlights:</p>
<ul class="simple">
<li>Address cross-site scripting vulnerabilities CVE-2015-4706, CVE-2015-4707</li>
<li>A security improvement that set the secure attribute to login cookie to prevent them to be sent over http</li>
<li>Revert the face color of matplotlib axes in the inline backend to not be transparent.</li>
<li>Enable mathjax safe mode by default</li>
<li>Fix XSS vulnerability in JSON error messages</li>
<li>Various widget-related fixes</li>
</ul>
<p>See <a class="reference internal" href="github-stats-3.html#issues-list-3"><span>Issues closed in the 3.x development cycle</span></a> for details.</p>
</div>
<div class="section" id="ipython-3-1">
<h2>IPython 3.1<a class="headerlink" href="#ipython-3-1" title="Permalink to this headline">¶</a></h2>
<p>Released April 3, 2015</p>
<p>The first 3.x bugfix release, with 33 contributors and 344 commits.
This primarily includes bugfixes to notebook layout and focus problems.</p>
<p>Highlights:</p>
<ul class="simple">
<li>Various focus jumping and scrolling fixes in the notebook.</li>
<li>Various message ordering and widget fixes in the notebook.</li>
<li>Images in markdown and output are confined to the notebook width.
An <code class="docutils literal"><span class="pre">.unconfined</span></code> CSS class is added to disable this behavior per-image.
The resize handle on output images is removed.</li>
<li>Improved ordering of tooltip content for Python functions, putting the signature at the top.</li>
<li>Fix UnicodeErrors when displaying some objects with unicode reprs on Python 2.</li>
<li>Set the kernel&#8217;s working directory to the notebook directory when running <code class="docutils literal"><span class="pre">nbconvert</span> <span class="pre">--execute</span></code>,
so that behavior matches the live notebook.</li>
<li>Allow setting custom SSL options for the tornado server with <code class="docutils literal"><span class="pre">NotebookApp.ssl_options</span></code>,
and protect against POODLE with default settings by disabling SSLv3.</li>
<li>Fix memory leak in the IPython.parallel Controller on Python 3.</li>
</ul>
<p>See <a class="reference internal" href="github-stats-3.html#issues-list-3"><span>Issues closed in the 3.x development cycle</span></a> for details.</p>
</div>
<div class="section" id="release-3-0">
<h2>Release 3.0<a class="headerlink" href="#release-3-0" title="Permalink to this headline">¶</a></h2>
<p>Released February 27, 2015</p>
<p>This is a really big release. Over 150 contributors, and almost 6000 commits in a bit under a year.
Support for languages other than Python is greatly improved,
notebook UI has been significantly redesigned,
and a lot of improvement has happened in the experimental interactive widgets.
The message protocol and document format have both been updated,
while maintaining better compatibility with previous versions than prior updates.
The notebook webapp now enables editing of any text file, and even
a web-based terminal (on Unix platforms).</p>
<p>3.x will be the last monolithic release of IPython,
as the next release cycle will see the growing project split into its Python-specific and language-agnostic components.
Language-agnostic projects (notebook, qtconsole, etc.) will move under the umbrella of the new Project Jupyter name,
while Python-specific projects (interactive Python shell, Python kernel, IPython.parallel)
will remain under IPython, and be split into a few smaller packages.
To reflect this, IPython is in a bit of a transition state.
The logo on the notebook is now the Jupyter logo.
When installing kernels system-wide, they go in a <code class="docutils literal"><span class="pre">jupyter</span></code> directory.
We are going to do our best to ease this transition for users and developers.</p>
<p>Big changes are ahead.</p>
<div class="section" id="using-different-kernels">
<h3>Using different kernels<a class="headerlink" href="#using-different-kernels" title="Permalink to this headline">¶</a></h3>
<img alt="Screenshot of 'new' dropdown showing different kernels" class="align-center" src="../_images/kernel_selector_screenshot.png" />
<p>You can now choose a kernel for a notebook within the user interface, rather
than starting up a separate notebook server for each kernel you want to use. The
syntax highlighting adapts to match the language you&#8217;re working in.</p>
<p>Information about the kernel is stored in the notebook file, so when you open a
notebook, it will automatically start the correct kernel.</p>
<p>It is also easier to use the Qt console and the terminal console with other
kernels, using the &#8211;kernel flag:</p>
<div class="highlight-python"><div class="highlight"><pre>ipython qtconsole --kernel bash
ipython console --kernel bash

# To list available kernels
ipython kernelspec list
</pre></div>
</div>
<p>Kernel authors should see <a class="reference internal" href="../development/kernels.html#kernelspecs"><span>Kernel specs</span></a> for how to register their kernels
with IPython so that these mechanisms work.</p>
</div>
<div class="section" id="typing-unicode-identifiers">
<h3>Typing unicode identifiers<a class="headerlink" href="#typing-unicode-identifiers" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/unicode_completion.png" src="../_images/unicode_completion.png" />
<p>Complex expressions can be much cleaner when written with a wider choice of
characters. Python 3 allows unicode identifiers, and IPython 3 makes it easier
to type those, using a feature from Julia. Type a backslash followed by a LaTeX
style short name, such as <code class="docutils literal"><span class="pre">\alpha</span></code>. Press tab, and it will turn into α.</p>
</div>
<div class="section" id="widget-migration-guide">
<h3>Widget migration guide<a class="headerlink" href="#widget-migration-guide" title="Permalink to this headline">¶</a></h3>
<p>The widget framework has a lot of backwards incompatible changes.
For information about migrating widget notebooks and custom widgets to 3.0 refer
to the <a class="reference internal" href="version3_widget_migration.html"><em>widget migration guide</em></a>.</p>
</div>
<div class="section" id="other-new-features">
<h3>Other new features<a class="headerlink" href="#other-new-features" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><code class="xref py py-class docutils literal"><span class="pre">TextWidget</span></code> and <code class="xref py py-class docutils literal"><span class="pre">TextareaWidget</span></code> objects now include a
<code class="docutils literal"><span class="pre">placeholder</span></code> attribute, for displaying placeholder text before the
user has typed anything.</p>
</li>
<li><p class="first">The <a class="reference internal" href="../interactive/magics.html#magic-load"><code class="xref std std-magic docutils literal"><span class="pre">%load</span></code></a> magic can now find the source for objects in the user namespace.
To enable searching the namespace, use the <code class="docutils literal"><span class="pre">-n</span></code> option.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="si">%lo</span><span class="s">ad -n my_module.some_function</span>
</pre></div>
</div>
</li>
<li><p class="first"><a class="reference internal" href="../api/generated/IPython.parallel.client.view.html#IPython.parallel.client.view.DirectView" title="IPython.parallel.client.view.DirectView"><code class="xref py py-class docutils literal"><span class="pre">DirectView</span></code></a> objects have a new <a class="reference internal" href="../api/generated/IPython.parallel.client.view.html#IPython.parallel.client.view.DirectView.use_cloudpickle" title="IPython.parallel.client.view.DirectView.use_cloudpickle"><code class="xref py py-meth docutils literal"><span class="pre">use_cloudpickle()</span></code></a>
method, which works like <code class="docutils literal"><span class="pre">view.use_dill()</span></code>, but causes the <code class="docutils literal"><span class="pre">cloudpickle</span></code>
module from PiCloud&#8217;s <a class="reference external" href="https://pypi.python.org/pypi/cloud">cloud</a> library to be used rather than dill or the
builtin pickle module.</p>
</li>
<li><p class="first">Added a .ipynb exporter to nbconvert.  It can be used by passing <code class="docutils literal"><span class="pre">--to</span> <span class="pre">notebook</span></code>
as a commandline argument to nbconvert.</p>
</li>
<li><p class="first">New nbconvert preprocessor called <a class="reference internal" href="../api/generated/IPython.nbconvert.preprocessors.clearoutput.html#IPython.nbconvert.preprocessors.clearoutput.ClearOutputPreprocessor" title="IPython.nbconvert.preprocessors.clearoutput.ClearOutputPreprocessor"><code class="xref py py-class docutils literal"><span class="pre">ClearOutputPreprocessor</span></code></a>. This
clears the output from IPython notebooks.</p>
</li>
<li><p class="first">New preprocessor for nbconvert that executes all the code cells in a notebook.
To run a notebook and save its output in a new notebook:</p>
<div class="highlight-python"><div class="highlight"><pre>ipython nbconvert InputNotebook --ExecutePreprocessor.enabled=True --to notebook --output Executed
</pre></div>
</div>
</li>
<li><p class="first">Consecutive stream (stdout/stderr) output is merged into a single output
in the notebook document.
Previously, all output messages were preserved as separate output fields in the JSON.
Now, the same merge is applied to the stored output as the displayed output,
improving document load time for notebooks with many small outputs.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">NotebookApp.webapp_settings</span></code> is deprecated and replaced with
the more informatively named <code class="docutils literal"><span class="pre">NotebookApp.tornado_settings</span></code>.</p>
</li>
<li><p class="first">Using <a class="reference internal" href="../interactive/magics.html#magic-timeit"><code class="xref std std-magic docutils literal"><span class="pre">%timeit</span></code></a> prints warnings if there is atleast a 4x difference in timings
between the slowest and fastest runs, since this might meant that the multiple
runs are not independent of one another.</p>
</li>
<li><p class="first">It&#8217;s now possible to provide mechanisms to integrate IPython with other event
loops, in addition to the ones we already support. This lets you run GUI code
in IPython with an interactive prompt, and to embed the IPython
kernel in GUI applications. See <a class="reference internal" href="../config/eventloops.html"><em>Integrating with GUI event loops</em></a> for details. As part
of this, the direct <code class="docutils literal"><span class="pre">enable_*</span></code> and <code class="docutils literal"><span class="pre">disable_*</span></code> functions for various GUIs
in <a class="reference internal" href="../api/generated/IPython.lib.inputhook.html#module-IPython.lib.inputhook" title="IPython.lib.inputhook"><code class="xref py py-mod docutils literal"><span class="pre">IPython.lib.inputhook</span></code></a> have been deprecated in favour of
<a class="reference internal" href="../api/generated/IPython.lib.inputhook.html#IPython.lib.inputhook.InputHookManager.enable_gui" title="IPython.lib.inputhook.InputHookManager.enable_gui"><code class="xref py py-meth docutils literal"><span class="pre">enable_gui()</span></code></a> and <a class="reference internal" href="../api/generated/IPython.lib.inputhook.html#IPython.lib.inputhook.InputHookManager.disable_gui" title="IPython.lib.inputhook.InputHookManager.disable_gui"><code class="xref py py-meth docutils literal"><span class="pre">disable_gui()</span></code></a>.</p>
</li>
<li><p class="first">A <code class="docutils literal"><span class="pre">ScrollManager</span></code> was added to the notebook.  The <code class="docutils literal"><span class="pre">ScrollManager</span></code> controls how the notebook document is scrolled using keyboard.  Users can inherit from the <code class="docutils literal"><span class="pre">ScrollManager</span></code> or <code class="docutils literal"><span class="pre">TargetScrollManager</span></code> to customize how their notebook scrolls.  The default <code class="docutils literal"><span class="pre">ScrollManager</span></code> is the <code class="docutils literal"><span class="pre">SlideScrollManager</span></code>, which tries to scroll to the nearest slide or sub-slide cell.</p>
</li>
<li><p class="first">The function <a class="reference internal" href="../api/generated/IPython.html.widgets.interaction.html#IPython.html.widgets.interaction.interact_manual" title="IPython.html.widgets.interaction.interact_manual"><code class="xref py py-func docutils literal"><span class="pre">interact_manual()</span></code></a> has been
added which behaves similarly to <a class="reference internal" href="../api/generated/IPython.html.widgets.interaction.html#IPython.html.widgets.interaction.interact" title="IPython.html.widgets.interaction.interact"><code class="xref py py-func docutils literal"><span class="pre">interact()</span></code></a>,
but adds a button to explicitly run the interacted-with function, rather than
doing it automatically for every change of the parameter widgets. This should
be useful for long-running functions.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">%cython</span></code> magic is now part of the Cython module. Use <code class="docutils literal"><span class="pre">%load_ext</span> <span class="pre">Cython</span></code> with a version of Cython &gt;= 0.21 to have access to the magic now.</p>
</li>
<li><p class="first">The Notebook application now offers integrated terminals on Unix platforms,
intended for when it is used on a remote server. To enable these, install
the <code class="docutils literal"><span class="pre">terminado</span></code> Python package.</p>
</li>
<li><p class="first">The Notebook application can now edit any plain text files, via a full-page CodeMirror instance.</p>
</li>
<li><p class="first">Setting the default highlighting language for nbconvert with the config option
<code class="docutils literal"><span class="pre">NbConvertBase.default_language</span></code> is deprecated. Nbconvert now respects
metadata stored in the <a class="reference internal" href="../development/kernels.html#kernelspecs"><span>kernel spec</span></a>.</p>
</li>
<li><p class="first">IPython can now be configured systemwide, with files in <code class="file docutils literal"><span class="pre">/etc/ipython</span></code>
or <code class="file docutils literal"><span class="pre">/usr/local/etc/ipython</span></code> on Unix systems,
or <code class="file docutils literal"><em><span class="pre">%PROGRAMDATA%</span></em><span class="pre">\ipython</span></code> on Windows.</p>
</li>
<li><p class="first">Added support for configurable user-supplied <a class="reference external" href="http://jinja.pocoo.org/">Jinja</a> HTML templates for the notebook.  Paths to
directories containing template files can be specified via
<code class="docutils literal"><span class="pre">NotebookApp.extra_template_paths</span></code>.  User-supplied template directories
searched first by the notebook, making it possible to replace existing
templates with your own files.</p>
<p>For example, to replace the notebook&#8217;s built-in <code class="docutils literal"><span class="pre">error.html</span></code> with your own,
create a directory like <code class="docutils literal"><span class="pre">/home/my_templates</span></code> and put your override template
at <code class="docutils literal"><span class="pre">/home/my_templates/error.html</span></code>.  To start the notebook with your custom
error page enabled, you would run:</p>
<div class="highlight-python"><div class="highlight"><pre>ipython notebook &#39;--extra_template_paths=[&quot;/home/my_templates/&quot;]&#39;
</pre></div>
</div>
<p>It&#8217;s also possible to override a template while also <a class="reference external" href="http://jinja.pocoo.org/docs/dev/templates/#template-inheritance">inheriting</a> from that
template, by prepending <code class="docutils literal"><span class="pre">templates/</span></code> to the <code class="docutils literal"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">%}</span></code> target of
your child template.  This is useful when you only want to override a
specific block of a template.  For example, to add additional CSS to the
built-in <code class="docutils literal"><span class="pre">error.html</span></code>, you might create an override that looks like:</p>
<div class="highlight-python"><div class="highlight"><pre>{% extends &quot;templates/error.html&quot; %}

{% block stylesheet %}
{{super()}}
&lt;style type=&quot;text/css&quot;&gt;
  /* My Awesome CSS */
&lt;/style&gt;
{% endblock %}
</pre></div>
</div>
</li>
<li><p class="first">Added a widget persistence API.  This allows you to persist your notebooks interactive widgets.
Two levels of control are provided:
1. Higher level- <code class="docutils literal"><span class="pre">WidgetManager.set_state_callbacks</span></code> allows you to register callbacks for loading and saving widget state.  The callbacks you register are automatically called when necessary.
2. Lower level- the <code class="docutils literal"><span class="pre">WidgetManager</span></code> Javascript class now has <code class="docutils literal"><span class="pre">get_state</span></code> and <code class="docutils literal"><span class="pre">set_state</span></code> methods that allow you to get and set the state of the widget runtime.</p>
<p>Example code for persisting your widget state to session data:</p>
<div class="highlight-python"><div class="highlight"><pre>%%javascript
require([&#39;widgets/js/manager&#39;], function(manager) {
    manager.WidgetManager.set_state_callbacks(function() { // Load
        return JSON.parse(sessionStorage.widgets_state || &#39;{}&#39;);
    }, function(state) { // Save
        sessionStorage.widgets_state = JSON.stringify(state);
    });
});
</pre></div>
</div>
</li>
<li><p class="first">Enhanced support for <a class="reference internal" href="../interactive/magics.html#magic-env"><code class="xref std std-magic docutils literal"><span class="pre">%env</span></code></a> magic.  As before, <a class="reference internal" href="../interactive/magics.html#magic-env"><code class="xref std std-magic docutils literal"><span class="pre">%env</span></code></a> with no
arguments displays all environment variables and values.  Additionally,
<a class="reference internal" href="../interactive/magics.html#magic-env"><code class="xref std std-magic docutils literal"><span class="pre">%env</span></code></a> can be used to get or set individual environment variables. To
display an individual value, use the <code class="docutils literal"><span class="pre">%env</span> <span class="pre">var</span></code> syntax. To set a value, use
<code class="docutils literal"><span class="pre">env</span> <span class="pre">var</span> <span class="pre">val</span></code> or <code class="docutils literal"><span class="pre">env</span> <span class="pre">var=val</span></code>. Python value expansion using <code class="docutils literal"><span class="pre">$</span></code> works as usual.</p>
</li>
</ul>
</div>
<div class="section" id="backwards-incompatible-changes">
<h3>Backwards incompatible changes<a class="headerlink" href="#backwards-incompatible-changes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The <a class="reference internal" href="../development/messaging.html#messaging"><span>message protocol</span></a> has been updated from version 4 to version 5.
Adapters are included, so IPython frontends can still talk to kernels that
implement protocol version 4.</p>
</li>
<li><p class="first">The <a class="reference internal" href="../notebook/nbformat.html#nbformat"><span>notebook format</span></a> has been updated from version 3 to version 4.
Read-only support for v4 notebooks has been backported to IPython 2.4.
Notable changes:</p>
<ul class="simple">
<li>heading cells are removed in favor or markdown headings</li>
<li>notebook outputs and output messages are more consistent with each other</li>
<li>use <a class="reference internal" href="../api/generated/IPython.nbformat.html#IPython.nbformat.read" title="IPython.nbformat.read"><code class="xref py py-func docutils literal"><span class="pre">IPython.nbformat.read()</span></code></a> and <a class="reference internal" href="../api/generated/IPython.nbformat.html#IPython.nbformat.write" title="IPython.nbformat.write"><code class="xref py py-func docutils literal"><span class="pre">write()</span></code></a>
to read and write notebook files
instead of the deprecated <code class="xref py py-mod docutils literal"><span class="pre">IPython.nbformat.current</span></code> APIs.</li>
</ul>
<p>You can downgrade a notebook to v3 via <code class="docutils literal"><span class="pre">nbconvert</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre>ipython nbconvert --to notebook --nbformat 3 &lt;notebook&gt;
</pre></div>
</div>
<p>which will create <code class="file docutils literal"><span class="pre">notebook.v3.ipynb</span></code>, a copy of the notebook in v3 format.</p>
</li>
<li><p class="first"><a class="reference internal" href="../api/generated/IPython.core.oinspect.html#IPython.core.oinspect.getsource" title="IPython.core.oinspect.getsource"><code class="xref py py-func docutils literal"><span class="pre">IPython.core.oinspect.getsource()</span></code></a> call specification has changed:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">oname</span></code> keyword argument has been added for property source formatting</li>
<li><code class="docutils literal"><span class="pre">is_binary</span></code> keyword argument has been dropped, passing <code class="docutils literal"><span class="pre">True</span></code> had
previously short-circuited the function to return <code class="docutils literal"><span class="pre">None</span></code> unconditionally</li>
</ul>
</li>
<li><p class="first">Removed the octavemagic extension: it is now available as <code class="docutils literal"><span class="pre">oct2py.ipython</span></code>.</p>
</li>
<li><p class="first">Creating PDFs with LaTeX no longer uses a post processor.
Use <code class="docutils literal"><span class="pre">nbconvert</span> <span class="pre">--to</span> <span class="pre">pdf</span></code> instead of <code class="docutils literal"><span class="pre">nbconvert</span> <span class="pre">--to</span> <span class="pre">latex</span> <span class="pre">--post</span> <span class="pre">pdf</span></code>.</p>
</li>
<li><p class="first">Used <a class="reference external" href="https://github.com/jdfreder/bootstrap2to3">https://github.com/jdfreder/bootstrap2to3</a> to migrate the Notebook to Bootstrap 3.</p>
<p>Additional changes:</p>
<ul class="simple">
<li>Set <code class="docutils literal"><span class="pre">.tab-content</span> <span class="pre">.row</span></code> <code class="docutils literal"><span class="pre">0px;</span></code> left and right margin (bootstrap default is <code class="docutils literal"><span class="pre">-15px;</span></code>)</li>
<li>Removed <code class="docutils literal"><span class="pre">height:</span> <span class="pre">&#64;btn_mini_height;</span></code> from <code class="docutils literal"><span class="pre">.list_header&gt;div,</span> <span class="pre">.list_item&gt;div</span></code> in <code class="docutils literal"><span class="pre">tree.less</span></code></li>
<li>Set <code class="docutils literal"><span class="pre">#header</span></code> div <code class="docutils literal"><span class="pre">margin-bottom:</span> <span class="pre">0px;</span></code></li>
<li>Set <code class="docutils literal"><span class="pre">#menus</span></code> to <code class="docutils literal"><span class="pre">float:</span> <span class="pre">left;</span></code></li>
<li>Set <code class="docutils literal"><span class="pre">#maintoolbar</span> <span class="pre">.navbar-text</span></code> to <code class="docutils literal"><span class="pre">float:</span> <span class="pre">none;</span></code></li>
<li>Added no-padding convenience class.</li>
<li>Set border of #maintoolbar to 0px</li>
</ul>
</li>
<li><p class="first">Accessing the <code class="docutils literal"><span class="pre">container</span></code> DOM object when displaying javascript has been
deprecated in IPython 2.0 in favor of accessing <code class="docutils literal"><span class="pre">element</span></code>. Starting with
IPython 3.0 trying to access <code class="docutils literal"><span class="pre">container</span></code> will raise an error in browser
javascript console.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">IPython.utils.py3compat.open</span></code> was removed: <a class="reference external" href="http://docs.python.org/2/library/io.html#io.open" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">io.open()</span></code></a> provides all
the same functionality.</p>
</li>
<li><p class="first">The NotebookManager and <code class="docutils literal"><span class="pre">/api/notebooks</span></code> service has been replaced by
a more generic ContentsManager and <code class="docutils literal"><span class="pre">/api/contents</span></code> service,
which supports all kinds of files.</p>
</li>
<li><p class="first">The Dashboard now lists all files, not just notebooks and directories.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">--script</span></code> hook for saving notebooks to Python scripts is removed,
use <code class="samp docutils literal"><span class="pre">ipython</span> <span class="pre">nbconvert</span> <span class="pre">--to</span> <span class="pre">python</span> <em><span class="pre">notebook</span></em></code> instead.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">rmagic</span></code> extension is deprecated, as it is now part of rpy2. See
<a class="reference external" href="http://rpy.sourceforge.net/rpy2/doc-2.4/html/interactive.html#module-rpy2.ipython.rmagic" title="(in rpy2 v2.4)"><code class="xref py py-mod docutils literal"><span class="pre">rpy2.ipython.rmagic</span></code></a>.</p>
</li>
<li><p class="first"><a class="reference internal" href="../api/generated/IPython.kernel.manager.html#IPython.kernel.manager.KernelManager.start_kernel" title="IPython.kernel.manager.KernelManager.start_kernel"><code class="xref py py-meth docutils literal"><span class="pre">start_kernel()</span></code></a> and <a class="reference internal" href="../api/generated/IPython.kernel.manager.html#IPython.kernel.manager.KernelManager.format_kernel_cmd" title="IPython.kernel.manager.KernelManager.format_kernel_cmd"><code class="xref py py-meth docutils literal"><span class="pre">format_kernel_cmd()</span></code></a>
no longer accept a <code class="docutils literal"><span class="pre">executable</span></code> parameter. Use the kernelspec machinery instead.</p>
</li>
<li><p class="first">The widget classes have been renamed from <code class="docutils literal"><span class="pre">*Widget</span></code> to <code class="docutils literal"><span class="pre">*</span></code>.  The old names are
still functional, but are deprecated.  i.e. <code class="docutils literal"><span class="pre">IntSliderWidget</span></code> has been renamed
to <code class="docutils literal"><span class="pre">IntSlider</span></code>.</p>
</li>
<li><p class="first">The ContainerWidget was renamed to Box and no longer defaults as a flexible
box in the web browser.  A new FlexBox widget was added, which allows you to
use the flexible box model.</p>
</li>
<li><p class="first">The notebook now uses a single websocket at <code class="docutils literal"><span class="pre">/kernels/&lt;kernel-id&gt;/channels</span></code> instead of separate
<code class="docutils literal"><span class="pre">/kernels/&lt;kernel-id&gt;/{shell|iopub|stdin}</span></code> channels. Messages on each channel are identified by a
<code class="docutils literal"><span class="pre">channel</span></code> key in the message dict, for both send and recv.</p>
</li>
</ul>
<div class="section" id="content-security-policy">
<h4>Content Security Policy<a class="headerlink" href="#content-security-policy" title="Permalink to this headline">¶</a></h4>
<p>The Content Security Policy is a web standard for adding a layer of security to
detect and mitigate certain classes of attacks, including Cross Site Scripting
(XSS) and data injection attacks. This was introduced into the notebook to
ensure that the IPython Notebook and its APIs (by default) can only be embedded
in an iframe on the same origin.</p>
<p>Override <code class="docutils literal"><span class="pre">headers['Content-Security-Policy']</span></code> within your notebook
configuration to extend for alternate domains and security settings.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">tornado_settings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;headers&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&#39;Content-Security-Policy&#39;</span><span class="p">:</span> <span class="s">&quot;frame-ancestors &#39;self&#39;&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example policies:</p>
<div class="highlight-python"><div class="highlight"><pre>Content-Security-Policy: default-src &#39;self&#39; https://*.jupyter.org
</pre></div>
</div>
<p>Matches embeddings on any subdomain of jupyter.org, so long as they are served
over SSL.</p>
<p>There is a <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/Security/CSP/CSP_policy_directives#report-uri">report-uri</a> endpoint available for logging CSP violations, located at
<code class="docutils literal"><span class="pre">/api/security/csp-report</span></code>. To use it, set <code class="docutils literal"><span class="pre">report-uri</span></code> as part of the CSP:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">tornado_settings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;headers&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&#39;Content-Security-Policy&#39;</span><span class="p">:</span> <span class="s">&quot;frame-ancestors &#39;self&#39;; report-uri /api/security/csp-report&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It simply provides the CSP report as a warning in IPython&#8217;s logs. The default
CSP sets this report-uri relative to the <code class="docutils literal"><span class="pre">base_url</span></code> (not shown above).</p>
<p>For a more thorough and accurate guide on Content Security Policies, check out
<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/Security/CSP/Using_Content_Security_Policy">MDN&#8217;s Using Content Security Policy</a> for more examples.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The IPython Development Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.3</a>
      
      |
      <a href="../_sources/whatsnew/version3.txt"
          rel="nofollow">Page source</a></li>
    </div>

    

    
  </body>
</html>
